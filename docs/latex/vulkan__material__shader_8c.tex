\doxysection{engine/src/renderer/vulkan/shaders/vulkan\+\_\+material\+\_\+shader.c File Reference}
\hypertarget{vulkan__material__shader_8c}{}\label{vulkan__material__shader_8c}\index{engine/src/renderer/vulkan/shaders/vulkan\_material\_shader.c@{engine/src/renderer/vulkan/shaders/vulkan\_material\_shader.c}}


Implements a Vulkan shader for rendering 3D objects with support for basic lighting and texturing. This shader handles vertex transformations, fragment shading, and resource binding for object rendering.  


{\ttfamily \#include "{}core/kmemory.\+h"{}}\newline
{\ttfamily \#include "{}core/logger.\+h"{}}\newline
{\ttfamily \#include "{}math/math\+\_\+types.\+h"{}}\newline
{\ttfamily \#include "{}math/kmath.\+h"{}}\newline
{\ttfamily \#include "{}systems/texture\+\_\+system.\+h"{}}\newline
{\ttfamily \#include "{}renderer/vulkan/vulkan\+\_\+buffer.\+h"{}}\newline
{\ttfamily \#include "{}renderer/vulkan/vulkan\+\_\+pipeline.\+h"{}}\newline
{\ttfamily \#include "{}renderer/vulkan/vulkan\+\_\+shader\+\_\+utils.\+h"{}}\newline
Include dependency graph for vulkan\+\_\+material\+\_\+shader.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vulkan__material__shader_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{vulkan__material__shader_8c_a595546cab33d786103a1329d05623bf8}{BUILTIN\+\_\+\+SHADER\+\_\+\+NAME\+\_\+\+OBJECT}}~"{}Builtin.\+Material\+Shader"{}
\begin{DoxyCompactList}\small\item\em Name of the built-\/in material shader. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{vulkan__material__shader_8c_a56289c7c829da6e2f4716327dd9352b2}{ATTRIBUTE\+\_\+\+COUNT}}~2
\begin{DoxyCompactList}\small\item\em Number of shader stages in the object shader. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{defines_8h_a3a58feb08f4f45ee137ec358217c3270}{b8}} \mbox{\hyperlink{vulkan__material__shader_8c_a25ec4d4e764205648b31034e4b978197}{vulkan\+\_\+material\+\_\+shader\+\_\+create}} (vulkan\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}}, vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}out\+\_\+shader)
\begin{DoxyCompactList}\small\item\em Creates a Vulkan object shader for rendering 3D objects. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{vulkan__material__shader_8c_a8ce1a124829699046113878580872289}{vulkan\+\_\+material\+\_\+shader\+\_\+destroy}} (vulkan\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}}, struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}shader)
\begin{DoxyCompactList}\small\item\em Destroys a Vulkan object shader and frees associated resources. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{vulkan__material__shader_8c_ad0ce6416c6d60ca7ecd742c69bc8dbdb}{vulkan\+\_\+material\+\_\+shader\+\_\+use}} (vulkan\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}}, struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}shader)
\begin{DoxyCompactList}\small\item\em Binds the Vulkan object shader\textquotesingle{}s pipeline for rendering. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{vulkan__material__shader_8c_a0c96cda64f47450ef40d864e2123b895}{vulkan\+\_\+material\+\_\+shader\+\_\+update\+\_\+global\+\_\+state}} (vulkan\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}}, struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}shader, \mbox{\hyperlink{defines_8h_a5f6906312a689f27d70e9d086649d3fd}{f32}} delta\+\_\+time)
\begin{DoxyCompactList}\small\item\em Updates the global uniform state for the Vulkan object shader. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{vulkan__material__shader_8c_ae2c747b4b0a4706e6a6f5f335db2758d}{vulkan\+\_\+material\+\_\+shader\+\_\+update\+\_\+object}} (vulkan\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}}, struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}shader, geometry\+\_\+render\+\_\+data data)
\begin{DoxyCompactList}\small\item\em Updates the model matrix for a specific object in the Vulkan object shader. \end{DoxyCompactList}\item 
\mbox{\hyperlink{defines_8h_a3a58feb08f4f45ee137ec358217c3270}{b8}} \mbox{\hyperlink{vulkan__material__shader_8c_aa85bc7c6b72ed42fb25c220523d1a586}{vulkan\+\_\+material\+\_\+shader\+\_\+acquire\+\_\+resources}} (vulkan\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}}, struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}shader, \mbox{\hyperlink{defines_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} \texorpdfstring{$\ast$}{*}out\+\_\+object\+\_\+id)
\begin{DoxyCompactList}\small\item\em Acquires resources for rendering a new object with the Vulkan object shader. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{vulkan__material__shader_8c_a628fcf2f29210cc275168b7ecb508f47}{vulkan\+\_\+material\+\_\+shader\+\_\+release\+\_\+resources}} (vulkan\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}}, struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}shader, \mbox{\hyperlink{defines_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} object\+\_\+id)
\begin{DoxyCompactList}\small\item\em Releases resources associated with a specific object ID in the Vulkan object shader. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implements a Vulkan shader for rendering 3D objects with support for basic lighting and texturing. This shader handles vertex transformations, fragment shading, and resource binding for object rendering. 



Definition in file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



\doxysubsection{Macro Definition Documentation}
\Hypertarget{vulkan__material__shader_8c_a56289c7c829da6e2f4716327dd9352b2}\label{vulkan__material__shader_8c_a56289c7c829da6e2f4716327dd9352b2} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!ATTRIBUTE\_COUNT@{ATTRIBUTE\_COUNT}}
\index{ATTRIBUTE\_COUNT@{ATTRIBUTE\_COUNT}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{ATTRIBUTE\_COUNT}{ATTRIBUTE\_COUNT}}
{\footnotesize\ttfamily \#define ATTRIBUTE\+\_\+\+COUNT~2}



Number of shader stages in the object shader. 



Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00028}{28}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.

\Hypertarget{vulkan__material__shader_8c_a595546cab33d786103a1329d05623bf8}\label{vulkan__material__shader_8c_a595546cab33d786103a1329d05623bf8} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!BUILTIN\_SHADER\_NAME\_OBJECT@{BUILTIN\_SHADER\_NAME\_OBJECT}}
\index{BUILTIN\_SHADER\_NAME\_OBJECT@{BUILTIN\_SHADER\_NAME\_OBJECT}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{BUILTIN\_SHADER\_NAME\_OBJECT}{BUILTIN\_SHADER\_NAME\_OBJECT}}
{\footnotesize\ttfamily \#define BUILTIN\+\_\+\+SHADER\+\_\+\+NAME\+\_\+\+OBJECT~"{}Builtin.\+Material\+Shader"{}}



Name of the built-\/in material shader. 



Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00023}{23}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{vulkan__material__shader_8c_aa85bc7c6b72ed42fb25c220523d1a586}\label{vulkan__material__shader_8c_aa85bc7c6b72ed42fb25c220523d1a586} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!vulkan\_material\_shader\_acquire\_resources@{vulkan\_material\_shader\_acquire\_resources}}
\index{vulkan\_material\_shader\_acquire\_resources@{vulkan\_material\_shader\_acquire\_resources}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{vulkan\_material\_shader\_acquire\_resources()}{vulkan\_material\_shader\_acquire\_resources()}}
{\footnotesize\ttfamily \mbox{\hyperlink{defines_8h_a3a58feb08f4f45ee137ec358217c3270}{b8}} vulkan\+\_\+material\+\_\+shader\+\_\+acquire\+\_\+resources (\begin{DoxyParamCaption}\item[{vulkan\+\_\+context \texorpdfstring{$\ast$}{*}}]{context,  }\item[{struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}}]{shader,  }\item[{\mbox{\hyperlink{defines_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} \texorpdfstring{$\ast$}{*}}]{out\+\_\+material\+\_\+id }\end{DoxyParamCaption})}



Acquires resources for rendering a new object with the Vulkan object shader. 

This function allocates a new object ID and initializes its descriptor sets for use in rendering. It manages a free list of object states to track resource usage.


\begin{DoxyParams}{Parameters}
{\em context} & The Vulkan context containing device and swapchain information. \\
\hline
{\em shader} & Pointer to the vulkan\+\_\+material\+\_\+shader structure from which to acquire resources. \\
\hline
{\em out\+\_\+material\+\_\+id} & Pointer to store the acquired object ID. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if resources were successfully acquired; otherwise False. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00403}{403}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



References \mbox{\hyperlink{vulkan__backend_8c_source_l00035}{context}}, \mbox{\hyperlink{defines_8h_source_l00122}{False}}, \mbox{\hyperlink{defines_8h_source_l00128}{INVALID\+\_\+\+ID}}, \mbox{\hyperlink{logger_8h_source_l00165}{KERROR}}, and \mbox{\hyperlink{defines_8h_source_l00120}{True}}.



Referenced by \mbox{\hyperlink{vulkan__backend_8c_source_l00083}{vulkan\+\_\+renderer\+\_\+backend\+\_\+initialize()}}.

\Hypertarget{vulkan__material__shader_8c_a25ec4d4e764205648b31034e4b978197}\label{vulkan__material__shader_8c_a25ec4d4e764205648b31034e4b978197} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!vulkan\_material\_shader\_create@{vulkan\_material\_shader\_create}}
\index{vulkan\_material\_shader\_create@{vulkan\_material\_shader\_create}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{vulkan\_material\_shader\_create()}{vulkan\_material\_shader\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{defines_8h_a3a58feb08f4f45ee137ec358217c3270}{b8}} vulkan\+\_\+material\+\_\+shader\+\_\+create (\begin{DoxyParamCaption}\item[{vulkan\+\_\+context \texorpdfstring{$\ast$}{*}}]{context,  }\item[{vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}}]{out\+\_\+shader }\end{DoxyParamCaption})}



Creates a Vulkan object shader for rendering 3D objects. 

This function initializes the shader stages, descriptor sets, uniform buffers, and graphics pipeline needed for rendering objects in a Vulkan context.


\begin{DoxyParams}{Parameters}
{\em context} & The Vulkan context containing device and swapchain information. \\
\hline
{\em out\+\_\+shader} & Pointer to the vulkan\+\_\+material\+\_\+shader structure to be initialized. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the shader was created successfully; otherwise False. 
\end{DoxyReturn}
Binding 0 -\/ uniform buffer

\texorpdfstring{$<$}{<} MAX\+\_\+\+MATERIAL\+\_\+\+INSTANCE\+\_\+\+COUNT

Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00030}{30}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



References \mbox{\hyperlink{vulkan__material__shader_8c_source_l00028}{ATTRIBUTE\+\_\+\+COUNT}}, \mbox{\hyperlink{vulkan__material__shader_8c_source_l00023}{BUILTIN\+\_\+\+SHADER\+\_\+\+NAME\+\_\+\+OBJECT}}, \mbox{\hyperlink{vulkan__backend_8c_source_l00035}{context}}, \mbox{\hyperlink{vulkan__shader__utils_8c_source_l00017}{create\+\_\+shader\+\_\+module()}}, \mbox{\hyperlink{defines_8h_source_l00122}{False}}, \mbox{\hyperlink{logger_8h_source_l00165}{KERROR}}, \mbox{\hyperlink{kmemory_8c_source_l00170}{kzero\+\_\+memory()}}, \mbox{\hyperlink{defines_8h_source_l00120}{True}}, \mbox{\hyperlink{vulkan__buffer_8c_source_l00017}{vulkan\+\_\+buffer\+\_\+create()}}, and \mbox{\hyperlink{vulkan__pipeline_8c_source_l00019}{vulkan\+\_\+graphics\+\_\+pipeline\+\_\+create()}}.



Referenced by \mbox{\hyperlink{vulkan__backend_8c_source_l00083}{vulkan\+\_\+renderer\+\_\+backend\+\_\+initialize()}}.

\Hypertarget{vulkan__material__shader_8c_a8ce1a124829699046113878580872289}\label{vulkan__material__shader_8c_a8ce1a124829699046113878580872289} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!vulkan\_material\_shader\_destroy@{vulkan\_material\_shader\_destroy}}
\index{vulkan\_material\_shader\_destroy@{vulkan\_material\_shader\_destroy}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{vulkan\_material\_shader\_destroy()}{vulkan\_material\_shader\_destroy()}}
{\footnotesize\ttfamily void vulkan\+\_\+material\+\_\+shader\+\_\+destroy (\begin{DoxyParamCaption}\item[{vulkan\+\_\+context \texorpdfstring{$\ast$}{*}}]{context,  }\item[{struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}}]{shader }\end{DoxyParamCaption})}



Destroys a Vulkan object shader and frees associated resources. 

This function cleans up all resources allocated for the object shader, including shader modules, descriptor sets, uniform buffers, and the graphics pipeline.


\begin{DoxyParams}{Parameters}
{\em context} & The Vulkan context containing device information. \\
\hline
{\em shader} & Pointer to the vulkan\+\_\+material\+\_\+shader structure to be destroyed. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00220}{220}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



References \mbox{\hyperlink{vulkan__backend_8c_source_l00035}{context}}, \mbox{\hyperlink{logger_8h_source_l00213}{KDEBUG}}, \mbox{\hyperlink{vulkan__buffer_8c_source_l00064}{vulkan\+\_\+buffer\+\_\+destroy()}}, and \mbox{\hyperlink{vulkan__pipeline_8c_source_l00166}{vulkan\+\_\+pipeline\+\_\+destroy()}}.



Referenced by \mbox{\hyperlink{vulkan__backend_8c_source_l00343}{vulkan\+\_\+renderer\+\_\+backend\+\_\+shutdown()}}.

\Hypertarget{vulkan__material__shader_8c_a628fcf2f29210cc275168b7ecb508f47}\label{vulkan__material__shader_8c_a628fcf2f29210cc275168b7ecb508f47} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!vulkan\_material\_shader\_release\_resources@{vulkan\_material\_shader\_release\_resources}}
\index{vulkan\_material\_shader\_release\_resources@{vulkan\_material\_shader\_release\_resources}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{vulkan\_material\_shader\_release\_resources()}{vulkan\_material\_shader\_release\_resources()}}
{\footnotesize\ttfamily void vulkan\+\_\+material\+\_\+shader\+\_\+release\+\_\+resources (\begin{DoxyParamCaption}\item[{vulkan\+\_\+context \texorpdfstring{$\ast$}{*}}]{context,  }\item[{struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}}]{shader,  }\item[{\mbox{\hyperlink{defines_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}}}]{object\+\_\+id }\end{DoxyParamCaption})}



Releases resources associated with a specific object ID in the Vulkan object shader. 

This function frees the descriptor sets and resets the state for the given object ID, allowing its resources to be reused for future objects. It manages the free list of object states.


\begin{DoxyParams}{Parameters}
{\em context} & The Vulkan context containing device information. \\
\hline
{\em shader} & Pointer to the vulkan\+\_\+material\+\_\+shader structure from which to release resources. \\
\hline
{\em object\+\_\+id} & The object ID whose resources are to be released. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00440}{440}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



References \mbox{\hyperlink{vulkan__backend_8c_source_l00035}{context}}, \mbox{\hyperlink{defines_8h_source_l00128}{INVALID\+\_\+\+ID}}, and \mbox{\hyperlink{logger_8h_source_l00165}{KERROR}}.

\Hypertarget{vulkan__material__shader_8c_a0c96cda64f47450ef40d864e2123b895}\label{vulkan__material__shader_8c_a0c96cda64f47450ef40d864e2123b895} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!vulkan\_material\_shader\_update\_global\_state@{vulkan\_material\_shader\_update\_global\_state}}
\index{vulkan\_material\_shader\_update\_global\_state@{vulkan\_material\_shader\_update\_global\_state}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{vulkan\_material\_shader\_update\_global\_state()}{vulkan\_material\_shader\_update\_global\_state()}}
{\footnotesize\ttfamily void vulkan\+\_\+material\+\_\+shader\+\_\+update\+\_\+global\+\_\+state (\begin{DoxyParamCaption}\item[{vulkan\+\_\+context \texorpdfstring{$\ast$}{*}}]{context,  }\item[{struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}}]{shader,  }\item[{\mbox{\hyperlink{defines_8h_a5f6906312a689f27d70e9d086649d3fd}{f32}}}]{delta\+\_\+time }\end{DoxyParamCaption})}



Updates the global uniform state for the Vulkan object shader. 

This function updates the global uniform buffer object (UBO) with the current projection and view matrices, and binds the appropriate descriptor set for the current frame.


\begin{DoxyParams}{Parameters}
{\em context} & The Vulkan context containing command buffers and frame information. \\
\hline
{\em shader} & Pointer to the vulkan\+\_\+material\+\_\+shader structure whose global state is to be updated. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00262}{262}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



References \mbox{\hyperlink{vulkan__backend_8c_source_l00035}{context}}, and \mbox{\hyperlink{vulkan__buffer_8c_source_l00154}{vulkan\+\_\+buffer\+\_\+load\+\_\+data()}}.



Referenced by \mbox{\hyperlink{vulkan__backend_8c_source_l00543}{vulkan\+\_\+renderer\+\_\+update\+\_\+global\+\_\+state()}}.

\Hypertarget{vulkan__material__shader_8c_ae2c747b4b0a4706e6a6f5f335db2758d}\label{vulkan__material__shader_8c_ae2c747b4b0a4706e6a6f5f335db2758d} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!vulkan\_material\_shader\_update\_object@{vulkan\_material\_shader\_update\_object}}
\index{vulkan\_material\_shader\_update\_object@{vulkan\_material\_shader\_update\_object}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{vulkan\_material\_shader\_update\_object()}{vulkan\_material\_shader\_update\_object()}}
{\footnotesize\ttfamily void vulkan\+\_\+material\+\_\+shader\+\_\+update\+\_\+object (\begin{DoxyParamCaption}\item[{vulkan\+\_\+context \texorpdfstring{$\ast$}{*}}]{context,  }\item[{struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}}]{shader,  }\item[{geometry\+\_\+render\+\_\+data}]{data }\end{DoxyParamCaption})}



Updates the model matrix for a specific object in the Vulkan object shader. 

Updates per-\/object descriptor data (UBO + texture) and binds the descriptor set. Should be called once per object before drawing. 

Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00298}{298}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



References \mbox{\hyperlink{vulkan__backend_8c_source_l00035}{context}}, \mbox{\hyperlink{resource__types_8h_source_l00033}{texture\+::generation}}, \mbox{\hyperlink{resource__types_8h_source_l00023}{texture\+::id}}, \mbox{\hyperlink{resource__types_8h_source_l00035}{texture\+::internal\+\_\+data}}, \mbox{\hyperlink{defines_8h_source_l00128}{INVALID\+\_\+\+ID}}, \mbox{\hyperlink{kmath_8c_source_l00026}{ksin()}}, \mbox{\hyperlink{kmemory_8c_source_l00170}{kzero\+\_\+memory()}}, \mbox{\hyperlink{texture__system_8c_source_l00257}{texture\+\_\+system\+\_\+get\+\_\+default\+\_\+texture()}}, \mbox{\hyperlink{kmath_8h_source_l00633}{vec4\+\_\+create()}}, and \mbox{\hyperlink{vulkan__buffer_8c_source_l00154}{vulkan\+\_\+buffer\+\_\+load\+\_\+data()}}.



Referenced by \mbox{\hyperlink{vulkan__backend_8c_source_l00628}{vulkan\+\_\+backend\+\_\+update\+\_\+object()}}.

\Hypertarget{vulkan__material__shader_8c_ad0ce6416c6d60ca7ecd742c69bc8dbdb}\label{vulkan__material__shader_8c_ad0ce6416c6d60ca7ecd742c69bc8dbdb} 
\index{vulkan\_material\_shader.c@{vulkan\_material\_shader.c}!vulkan\_material\_shader\_use@{vulkan\_material\_shader\_use}}
\index{vulkan\_material\_shader\_use@{vulkan\_material\_shader\_use}!vulkan\_material\_shader.c@{vulkan\_material\_shader.c}}
\doxysubsubsection{\texorpdfstring{vulkan\_material\_shader\_use()}{vulkan\_material\_shader\_use()}}
{\footnotesize\ttfamily void vulkan\+\_\+material\+\_\+shader\+\_\+use (\begin{DoxyParamCaption}\item[{vulkan\+\_\+context \texorpdfstring{$\ast$}{*}}]{context,  }\item[{struct vulkan\+\_\+material\+\_\+shader \texorpdfstring{$\ast$}{*}}]{shader }\end{DoxyParamCaption})}



Binds the Vulkan object shader\textquotesingle{}s pipeline for rendering. 

This function binds the graphics pipeline associated with the object shader to the command buffer for the current frame, preparing it for drawing operations.


\begin{DoxyParams}{Parameters}
{\em context} & The Vulkan context containing command buffers and frame information. \\
\hline
{\em shader} & Pointer to the vulkan\+\_\+material\+\_\+shader structure whose pipeline is to be bound. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vulkan__material__shader_8c_source_l00257}{257}} of file \mbox{\hyperlink{vulkan__material__shader_8c_source}{vulkan\+\_\+material\+\_\+shader.\+c}}.



References \mbox{\hyperlink{vulkan__backend_8c_source_l00035}{context}}, and \mbox{\hyperlink{vulkan__pipeline_8c_source_l00183}{vulkan\+\_\+pipeline\+\_\+bind()}}.



Referenced by \mbox{\hyperlink{vulkan__backend_8c_source_l00628}{vulkan\+\_\+backend\+\_\+update\+\_\+object()}}, and \mbox{\hyperlink{vulkan__backend_8c_source_l00543}{vulkan\+\_\+renderer\+\_\+update\+\_\+global\+\_\+state()}}.

