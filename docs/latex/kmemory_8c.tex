\doxysection{engine/src/core/kmemory.c File Reference}
\hypertarget{kmemory_8c}{}\label{kmemory_8c}\index{engine/src/core/kmemory.c@{engine/src/core/kmemory.c}}


Implementation of the tagged memory allocation system.  


{\ttfamily \#include "{}kmemory.\+h"{}}\newline
{\ttfamily \#include "{}core/logger.\+h"{}}\newline
{\ttfamily \#include "{}platform/platform.\+h"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
Include dependency graph for kmemory.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{kmemory_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structmemory__stats}{memory\+\_\+stats}}
\begin{DoxyCompactList}\small\item\em Tracks memory usage statistics. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structmemory__system__state}{memory\+\_\+system\+\_\+state}}
\begin{DoxyCompactList}\small\item\em Represents the state of the memory tracking system. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structmemory__system__state}{memory\+\_\+system\+\_\+state}} \mbox{\hyperlink{kmemory_8c_a8b47864815d47d9aca7549c6addd270b}{memory\+\_\+system\+\_\+state}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{kmemory_8c_ac10c3f597dcba3b1014c4abd12c57839}{initialize\+\_\+memory}} (\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} \texorpdfstring{$\ast$}{*}memory\+\_\+requirement, void \texorpdfstring{$\ast$}{*}state)
\begin{DoxyCompactList}\small\item\em Initializes the memory tracking system. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kmemory_8c_af499f00d453317b8da334a288af7cf85}{shutdown\+\_\+memory}} (void \texorpdfstring{$\ast$}{*}state)
\begin{DoxyCompactList}\small\item\em Shuts down the memory tracking system. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{kmemory_8c_aaff7cb37687dfc7680be1a2101890d88}{kallocate}} (\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} size, \mbox{\hyperlink{kmemory_8h_a37d016888ad6b70195335004614d4942}{memory\+\_\+tag}} tag)
\begin{DoxyCompactList}\small\item\em Allocates memory with a given size and tag. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kmemory_8c_a49e85a536f69ab06ccc689d5701450dc}{kfree}} (void \texorpdfstring{$\ast$}{*}block, \mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} size, \mbox{\hyperlink{kmemory_8h_a37d016888ad6b70195335004614d4942}{memory\+\_\+tag}} tag)
\begin{DoxyCompactList}\small\item\em Frees a previously allocated memory block. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{kmemory_8c_aa7107b9ccb0c0358906c79d3dbe398d5}{kzero\+\_\+memory}} (void \texorpdfstring{$\ast$}{*}block, \mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} size)
\begin{DoxyCompactList}\small\item\em Fills the provided memory block with zeros. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{kmemory_8c_a433c653469c55bd95b8b80b801bcc426}{kcopy\+\_\+memory}} (void \texorpdfstring{$\ast$}{*}dest, const void \texorpdfstring{$\ast$}{*}source, \mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} size)
\begin{DoxyCompactList}\small\item\em Copies data from one memory block to another. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{kmemory_8c_a2a80291541bfd799993b25c748ebbe03}{kset\+\_\+memory}} (void \texorpdfstring{$\ast$}{*}dest, \mbox{\hyperlink{defines_8h_a9e3ad5f8e752f01d926ce122d5a5285e}{i32}} value, \mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} size)
\begin{DoxyCompactList}\small\item\em Sets every byte in a memory block to a specific value. \end{DoxyCompactList}\item 
char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{kmemory_8c_a952570f1b67855783413d2a0d4b0503a}{get\+\_\+memory\+\_\+usage\+\_\+str}} ()
\begin{DoxyCompactList}\small\item\em Generates a formatted string showing current memory usage per tag. \end{DoxyCompactList}\item 
\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} \mbox{\hyperlink{kmemory_8c_a856be2ba72d23a3da0f6720e8e29f281}{get\+\_\+memory\+\_\+alloc\+\_\+count}} ()
\begin{DoxyCompactList}\small\item\em Gets the total number of memory allocations made. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{kmemory_8c_a228ea890e8922a7de688a37a1de46fd0}{memory\+\_\+tag\+\_\+strings}} \mbox{[}\mbox{\hyperlink{kmemory_8h_a37d016888ad6b70195335004614d4942ace51437c5832765c883cbae625e248b1}{MEMORY\+\_\+\+TAG\+\_\+\+MAX\+\_\+\+TAGS}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Human-\/readable strings for each memory tag. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structmemory__system__state}{memory\+\_\+system\+\_\+state}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{kmemory_8c_a9ec72ff269f63629893b7760ea47662e}{state\+\_\+ptr}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of the tagged memory allocation system. 

This module implements a memory tracking system that allows allocations to be categorized using tags (e.\+g., MEMORY\+\_\+\+TAG\+\_\+\+RENDERER, MEMORY\+\_\+\+TAG\+\_\+\+GAME). It provides\+:
\begin{DoxyItemize}
\item Memory usage statistics per tag
\item Allocation and deallocation wrappers with tracking
\item Helper functions like {\ttfamily \doxylink{kmemory_8c_aa7107b9ccb0c0358906c79d3dbe398d5}{kzero\+\_\+memory()}}, {\ttfamily \doxylink{kmemory_8c_a433c653469c55bd95b8b80b801bcc426}{kcopy\+\_\+memory()}}, and {\ttfamily \doxylink{kmemory_8c_a2a80291541bfd799993b25c748ebbe03}{kset\+\_\+memory()}}
\item A utility function to generate formatted memory usage strings for debugging
\end{DoxyItemize}

The system wraps platform-\/specific memory functions ({\ttfamily platform\+\_\+allocate}, {\ttfamily platform\+\_\+free}) to ensure consistent behavior and logging.

Usage\+: Replace raw memory operations with {\ttfamily \doxylink{kmemory_8c_aaff7cb37687dfc7680be1a2101890d88}{kallocate()}} / {\ttfamily \doxylink{kmemory_8c_a49e85a536f69ab06ccc689d5701450dc}{kfree()}} to enable tracking. 

Definition in file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



\doxysubsection{Typedef Documentation}
\Hypertarget{kmemory_8c_a8b47864815d47d9aca7549c6addd270b}\label{kmemory_8c_a8b47864815d47d9aca7549c6addd270b} 
\index{kmemory.c@{kmemory.c}!memory\_system\_state@{memory\_system\_state}}
\index{memory\_system\_state@{memory\_system\_state}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{memory\_system\_state}{memory\_system\_state}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structmemory__system__state}{memory\+\_\+system\+\_\+state}} \mbox{\hyperlink{structmemory__system__state}{memory\+\_\+system\+\_\+state}}}



\doxysubsection{Function Documentation}
\Hypertarget{kmemory_8c_a856be2ba72d23a3da0f6720e8e29f281}\label{kmemory_8c_a856be2ba72d23a3da0f6720e8e29f281} 
\index{kmemory.c@{kmemory.c}!get\_memory\_alloc\_count@{get\_memory\_alloc\_count}}
\index{get\_memory\_alloc\_count@{get\_memory\_alloc\_count}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{get\_memory\_alloc\_count()}{get\_memory\_alloc\_count()}}
{\footnotesize\ttfamily \mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} get\+\_\+memory\+\_\+alloc\+\_\+count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the total number of memory allocations made. 

This is useful for tracking memory usage and potential leaks.

\begin{DoxyReturn}{Returns}
The total number of allocations made since the application started. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{kmemory_8c_source_l00244}{244}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{kmemory_8c_source_l00079}{memory\+\_\+system\+\_\+state\+::alloc\+\_\+count}}, and \mbox{\hyperlink{kmemory_8c_source_l00083}{state\+\_\+ptr}}.



Referenced by \mbox{\hyperlink{game_8c_source_l00094}{game\+\_\+update()}}.

\Hypertarget{kmemory_8c_a952570f1b67855783413d2a0d4b0503a}\label{kmemory_8c_a952570f1b67855783413d2a0d4b0503a} 
\index{kmemory.c@{kmemory.c}!get\_memory\_usage\_str@{get\_memory\_usage\_str}}
\index{get\_memory\_usage\_str@{get\_memory\_usage\_str}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{get\_memory\_usage\_str()}{get\_memory\_usage\_str()}}
{\footnotesize\ttfamily char \texorpdfstring{$\ast$}{*} get\+\_\+memory\+\_\+usage\+\_\+str (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Generates a formatted string showing current memory usage per tag. 

Gets a formatted string showing current memory usage per tag.

Useful for logging and debugging. Automatically scales values to KB/\+MB/\+GB.

\begin{DoxyReturn}{Returns}
A heap-\/allocated string containing formatted memory usage info. Caller must free it using \doxylink{kmemory_8h_a6b55b65a2f2d473dac0d8ff4605a44fb}{kfree()}. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{kmemory_8c_source_l00206}{206}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{kmemory_8h_source_l00080}{MEMORY\+\_\+\+TAG\+\_\+\+MAX\+\_\+\+TAGS}}, \mbox{\hyperlink{kmemory_8c_source_l00052}{memory\+\_\+tag\+\_\+strings}}, \mbox{\hyperlink{kmemory_8c_source_l00083}{state\+\_\+ptr}}, \mbox{\hyperlink{kmemory_8c_source_l00078}{memory\+\_\+system\+\_\+state\+::stats}}, and \mbox{\hyperlink{kmemory_8c_source_l00044}{memory\+\_\+stats\+::tagged\+\_\+allocations}}.



Referenced by \mbox{\hyperlink{application_8c_source_l00259}{application\+\_\+run()}}.

\Hypertarget{kmemory_8c_ac10c3f597dcba3b1014c4abd12c57839}\label{kmemory_8c_ac10c3f597dcba3b1014c4abd12c57839} 
\index{kmemory.c@{kmemory.c}!initialize\_memory@{initialize\_memory}}
\index{initialize\_memory@{initialize\_memory}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{initialize\_memory()}{initialize\_memory()}}
{\footnotesize\ttfamily void initialize\+\_\+memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}} \texorpdfstring{$\ast$}{*}}]{memory\+\_\+requirement,  }\item[{void \texorpdfstring{$\ast$}{*}}]{state }\end{DoxyParamCaption})}



Initializes the memory tracking system. 

Initializes the memory allocator subsystem.

Resets all counters to zero. 

Definition at line \mbox{\hyperlink{kmemory_8c_source_l00090}{90}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{kmemory_8c_source_l00079}{memory\+\_\+system\+\_\+state\+::alloc\+\_\+count}}, \mbox{\hyperlink{platform_8h_a59e03b207e95523b84692ea7f68e4654}{platform\+\_\+zero\+\_\+memory()}}, \mbox{\hyperlink{kmemory_8c_source_l00083}{state\+\_\+ptr}}, and \mbox{\hyperlink{kmemory_8c_source_l00078}{memory\+\_\+system\+\_\+state\+::stats}}.



Referenced by \mbox{\hyperlink{application_8c_source_l00183}{application\+\_\+create()}}.

\Hypertarget{kmemory_8c_aaff7cb37687dfc7680be1a2101890d88}\label{kmemory_8c_aaff7cb37687dfc7680be1a2101890d88} 
\index{kmemory.c@{kmemory.c}!kallocate@{kallocate}}
\index{kallocate@{kallocate}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{kallocate()}{kallocate()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} kallocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}}}]{size,  }\item[{\mbox{\hyperlink{kmemory_8h_a37d016888ad6b70195335004614d4942}{memory\+\_\+tag}}}]{tag }\end{DoxyParamCaption})}



Allocates memory with a given size and tag. 

Allocates memory with the given size and tag.

Adds the allocation to internal statistics and returns a pointer to the block.


\begin{DoxyParams}{Parameters}
{\em size} & The number of bytes to allocate. \\
\hline
{\em tag} & A memory\+\_\+tag used to categorize this allocation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the allocated memory block. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{kmemory_8c_source_l00122}{122}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{kmemory_8c_source_l00079}{memory\+\_\+system\+\_\+state\+::alloc\+\_\+count}}, \mbox{\hyperlink{defines_8h_source_l00122}{False}}, \mbox{\hyperlink{logger_8h_source_l00179}{KWARN}}, \mbox{\hyperlink{kmemory_8h_source_l00026}{MEMORY\+\_\+\+TAG\+\_\+\+UNKNOWN}}, \mbox{\hyperlink{platform_8h_a19df473ff145c8579c4c838d5bc67372}{platform\+\_\+allocate()}}, \mbox{\hyperlink{platform_8h_a59e03b207e95523b84692ea7f68e4654}{platform\+\_\+zero\+\_\+memory()}}, \mbox{\hyperlink{kmemory_8c_source_l00083}{state\+\_\+ptr}}, \mbox{\hyperlink{kmemory_8c_source_l00078}{memory\+\_\+system\+\_\+state\+::stats}}, \mbox{\hyperlink{kmemory_8c_source_l00044}{memory\+\_\+stats\+::tagged\+\_\+allocations}}, and \mbox{\hyperlink{kmemory_8c_source_l00039}{memory\+\_\+stats\+::total\+\_\+allocated}}.



Referenced by \mbox{\hyperlink{darray_8c_source_l00024}{\+\_\+darray\+\_\+create()}}, \mbox{\hyperlink{application_8c_source_l00183}{application\+\_\+create()}}, \mbox{\hyperlink{vulkan__swapchain_8c_source_l00200}{create()}}, \mbox{\hyperlink{entry_8c_source_l00020}{create\+\_\+game()}}, \mbox{\hyperlink{filesystem_8c_source_l00100}{filesystem\+\_\+read\+\_\+all\+\_\+bytes()}}, \mbox{\hyperlink{filesystem_8c_source_l00060}{filesystem\+\_\+read\+\_\+line()}}, \mbox{\hyperlink{linear__allocator_8c_source_l00014}{linear\+\_\+allocator\+\_\+create()}}, \mbox{\hyperlink{vulkan__device_8c_source_l00521}{physical\+\_\+device\+\_\+meets\+\_\+requirements()}}, \mbox{\hyperlink{kstring_8c_source_l00027}{string\+\_\+duplicate()}}, \mbox{\hyperlink{vulkan__device_8c_source_l00322}{vulkan\+\_\+device\+\_\+query\+\_\+swapchain\+\_\+support()}}, \mbox{\hyperlink{vulkan__framebuffer_8c_source_l00017}{vulkan\+\_\+framebuffer\+\_\+create()}}, and \mbox{\hyperlink{vulkan__backend_8c_source_l00868}{vulkan\+\_\+renderer\+\_\+create\+\_\+texture()}}.

\Hypertarget{kmemory_8c_a433c653469c55bd95b8b80b801bcc426}\label{kmemory_8c_a433c653469c55bd95b8b80b801bcc426} 
\index{kmemory.c@{kmemory.c}!kcopy\_memory@{kcopy\_memory}}
\index{kcopy\_memory@{kcopy\_memory}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{kcopy\_memory()}{kcopy\_memory()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} kcopy\+\_\+memory (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{dest,  }\item[{const void \texorpdfstring{$\ast$}{*}}]{source,  }\item[{\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}}}]{size }\end{DoxyParamCaption})}



Copies data from one memory block to another. 

Copies memory from one location to another.


\begin{DoxyParams}{Parameters}
{\em dest} & Destination memory block. \\
\hline
{\em source} & Source memory block. \\
\hline
{\em size} & Number of bytes to copy. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the destination memory block. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{kmemory_8c_source_l00182}{182}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{platform_8h_a15258bb22b902725b1fbf405463ed07d}{platform\+\_\+copy\+\_\+memory()}}.



Referenced by \mbox{\hyperlink{darray_8c_source_l00155}{\+\_\+darray\+\_\+insert\+\_\+at()}}, \mbox{\hyperlink{darray_8c_source_l00112}{\+\_\+darray\+\_\+pop()}}, \mbox{\hyperlink{darray_8c_source_l00127}{\+\_\+darray\+\_\+pop\+\_\+at()}}, \mbox{\hyperlink{darray_8c_source_l00090}{\+\_\+darray\+\_\+push()}}, \mbox{\hyperlink{darray_8c_source_l00069}{\+\_\+darray\+\_\+resize()}}, \mbox{\hyperlink{input_8c_source_l00120}{input\+\_\+update()}}, \mbox{\hyperlink{kstring_8c_source_l00027}{string\+\_\+duplicate()}}, \mbox{\hyperlink{kstring_8c_source_l00052}{string\+\_\+format\+\_\+v()}}, and \mbox{\hyperlink{vulkan__buffer_8c_source_l00154}{vulkan\+\_\+buffer\+\_\+load\+\_\+data()}}.

\Hypertarget{kmemory_8c_a49e85a536f69ab06ccc689d5701450dc}\label{kmemory_8c_a49e85a536f69ab06ccc689d5701450dc} 
\index{kmemory.c@{kmemory.c}!kfree@{kfree}}
\index{kfree@{kfree}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{kfree()}{kfree()}}
{\footnotesize\ttfamily void kfree (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{block,  }\item[{\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}}}]{size,  }\item[{\mbox{\hyperlink{kmemory_8h_a37d016888ad6b70195335004614d4942}{memory\+\_\+tag}}}]{tag }\end{DoxyParamCaption})}



Frees a previously allocated memory block. 

Subtracts the deallocated size from internal statistics.


\begin{DoxyParams}{Parameters}
{\em block} & Pointer to the memory block to free. \\
\hline
{\em size} & Size of the block in bytes (must match original allocation). \\
\hline
{\em tag} & Tag used when originally allocating the block. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{kmemory_8c_source_l00149}{149}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{defines_8h_source_l00122}{False}}, \mbox{\hyperlink{logger_8h_source_l00179}{KWARN}}, \mbox{\hyperlink{kmemory_8h_source_l00026}{MEMORY\+\_\+\+TAG\+\_\+\+UNKNOWN}}, \mbox{\hyperlink{platform_8h_a0b638fcfa31e0704eb976a8662c095f2}{platform\+\_\+free()}}, \mbox{\hyperlink{kmemory_8c_source_l00083}{state\+\_\+ptr}}, \mbox{\hyperlink{kmemory_8c_source_l00078}{memory\+\_\+system\+\_\+state\+::stats}}, \mbox{\hyperlink{kmemory_8c_source_l00044}{memory\+\_\+stats\+::tagged\+\_\+allocations}}, and \mbox{\hyperlink{kmemory_8c_source_l00039}{memory\+\_\+stats\+::total\+\_\+allocated}}.



Referenced by \mbox{\hyperlink{darray_8c_source_l00044}{\+\_\+darray\+\_\+destroy()}}, \mbox{\hyperlink{vulkan__shader__utils_8c_source_l00017}{create\+\_\+shader\+\_\+module()}}, \mbox{\hyperlink{linear__allocator_8c_source_l00028}{linear\+\_\+allocator\+\_\+destroy()}}, \mbox{\hyperlink{vulkan__device_8c_source_l00521}{physical\+\_\+device\+\_\+meets\+\_\+requirements()}}, \mbox{\hyperlink{vulkan__device_8c_source_l00258}{vulkan\+\_\+device\+\_\+destroy()}}, \mbox{\hyperlink{vulkan__framebuffer_8c_source_l00051}{vulkan\+\_\+framebuffer\+\_\+destroy()}}, and \mbox{\hyperlink{vulkan__backend_8c_source_l00983}{vulkan\+\_\+renderer\+\_\+destroy\+\_\+texture()}}.

\Hypertarget{kmemory_8c_a2a80291541bfd799993b25c748ebbe03}\label{kmemory_8c_a2a80291541bfd799993b25c748ebbe03} 
\index{kmemory.c@{kmemory.c}!kset\_memory@{kset\_memory}}
\index{kset\_memory@{kset\_memory}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{kset\_memory()}{kset\_memory()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} kset\+\_\+memory (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{dest,  }\item[{\mbox{\hyperlink{defines_8h_a9e3ad5f8e752f01d926ce122d5a5285e}{i32}}}]{value,  }\item[{\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}}}]{size }\end{DoxyParamCaption})}



Sets every byte in a memory block to a specific value. 

Fills a memory block with a specific byte value.


\begin{DoxyParams}{Parameters}
{\em dest} & Destination memory block. \\
\hline
{\em value} & Byte value to fill the block with. \\
\hline
{\em size} & Number of bytes to fill. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the filled memory block. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{kmemory_8c_source_l00194}{194}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{platform_8h_aa65146de20a7fd23870d3809834021b7}{platform\+\_\+set\+\_\+memory()}}.



Referenced by \mbox{\hyperlink{darray_8c_source_l00024}{\+\_\+darray\+\_\+create()}}, and \mbox{\hyperlink{renderer__frontend_8c_source_l00219}{renderer\+\_\+system\+\_\+initialize()}}.

\Hypertarget{kmemory_8c_aa7107b9ccb0c0358906c79d3dbe398d5}\label{kmemory_8c_aa7107b9ccb0c0358906c79d3dbe398d5} 
\index{kmemory.c@{kmemory.c}!kzero\_memory@{kzero\_memory}}
\index{kzero\_memory@{kzero\_memory}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{kzero\_memory()}{kzero\_memory()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} kzero\+\_\+memory (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{block,  }\item[{\mbox{\hyperlink{defines_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64}}}]{size }\end{DoxyParamCaption})}



Fills the provided memory block with zeros. 


\begin{DoxyParams}{Parameters}
{\em block} & Pointer to the memory block. \\
\hline
{\em size} & Number of bytes to zero out. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the zeroed memory block. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{kmemory_8c_source_l00170}{170}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{platform_8h_a59e03b207e95523b84692ea7f68e4654}{platform\+\_\+zero\+\_\+memory()}}.



Referenced by \mbox{\hyperlink{vulkan__backend_8c_source_l00711}{create\+\_\+command\+\_\+buffers()}}, \mbox{\hyperlink{vulkan__shader__utils_8c_source_l00017}{create\+\_\+shader\+\_\+module()}}, \mbox{\hyperlink{renderer__frontend_8c_source_l00090}{create\+\_\+texture()}}, \mbox{\hyperlink{event_8c_source_l00071}{event\+\_\+system\+\_\+initialize()}}, \mbox{\hyperlink{input_8c_source_l00088}{input\+\_\+system\+\_\+initialize()}}, \mbox{\hyperlink{linear__allocator_8c_source_l00065}{linear\+\_\+allocator\+\_\+free\+\_\+all()}}, \mbox{\hyperlink{logger_8c_source_l00095}{log\+\_\+output()}}, \mbox{\hyperlink{kmath_8h_source_l00866}{mat4\+\_\+identity()}}, \mbox{\hyperlink{kmath_8h_source_l00942}{mat4\+\_\+perspective()}}, \mbox{\hyperlink{vulkan__buffer_8c_source_l00017}{vulkan\+\_\+buffer\+\_\+create()}}, \mbox{\hyperlink{vulkan__command__buffer_8c_source_l00018}{vulkan\+\_\+command\+\_\+buffer\+\_\+allocate()}}, \mbox{\hyperlink{vulkan__device_8c_source_l00258}{vulkan\+\_\+device\+\_\+destroy()}}, \mbox{\hyperlink{vulkan__pipeline_8c_source_l00019}{vulkan\+\_\+graphics\+\_\+pipeline\+\_\+create()}}, \mbox{\hyperlink{vulkan__image_8c_source_l00196}{vulkan\+\_\+image\+\_\+copy\+\_\+from\+\_\+buffer()}}, \mbox{\hyperlink{vulkan__object__shader_8c_source_l00028}{vulkan\+\_\+object\+\_\+shader\+\_\+create()}}, \mbox{\hyperlink{vulkan__object__shader_8c_source_l00298}{vulkan\+\_\+object\+\_\+shader\+\_\+update\+\_\+object()}}, \mbox{\hyperlink{vulkan__backend_8c_source_l00083}{vulkan\+\_\+renderer\+\_\+backend\+\_\+initialize()}}, \mbox{\hyperlink{vulkan__backend_8c_source_l00983}{vulkan\+\_\+renderer\+\_\+destroy\+\_\+texture()}}, and \mbox{\hyperlink{vulkan__renderpass_8c_source_l00181}{vulkan\+\_\+renderpass\+\_\+begin()}}.

\Hypertarget{kmemory_8c_af499f00d453317b8da334a288af7cf85}\label{kmemory_8c_af499f00d453317b8da334a288af7cf85} 
\index{kmemory.c@{kmemory.c}!shutdown\_memory@{shutdown\_memory}}
\index{shutdown\_memory@{shutdown\_memory}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{shutdown\_memory()}{shutdown\_memory()}}
{\footnotesize\ttfamily void shutdown\+\_\+memory (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{state }\end{DoxyParamCaption})}



Shuts down the memory tracking system. 

Shuts down the memory allocator subsystem.

Currently does nothing but can be extended to log final usage or detect leaks. 

Definition at line \mbox{\hyperlink{kmemory_8c_source_l00107}{107}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



References \mbox{\hyperlink{kmemory_8c_source_l00083}{state\+\_\+ptr}}.



Referenced by \mbox{\hyperlink{application_8c_source_l00259}{application\+\_\+run()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{kmemory_8c_a228ea890e8922a7de688a37a1de46fd0}\label{kmemory_8c_a228ea890e8922a7de688a37a1de46fd0} 
\index{kmemory.c@{kmemory.c}!memory\_tag\_strings@{memory\_tag\_strings}}
\index{memory\_tag\_strings@{memory\_tag\_strings}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{memory\_tag\_strings}{memory\_tag\_strings}}
{\footnotesize\ttfamily const char\texorpdfstring{$\ast$}{*} memory\+\_\+tag\+\_\+strings\mbox{[}\mbox{\hyperlink{kmemory_8h_a37d016888ad6b70195335004614d4942ace51437c5832765c883cbae625e248b1}{MEMORY\+\_\+\+TAG\+\_\+\+MAX\+\_\+\+TAGS}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}UNKNOWN\ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}ARRAY\ \ \ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}LINEAR\_ALLOC\ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}DARRAY\ \ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}DICT\ \ \ \ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}RING\_QUEUE\ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}BST\ \ \ \ \ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STRING\ \ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}APPLICATION\ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}JOB\ \ \ \ \ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}TEXTURE\ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}MAT\_INST\ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}RENDERER\ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}GAME\ \ \ \ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}TRANSFORM\ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}ENTITY\ \ \ \ \ \ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}ENTITY\_NODE\ \ "{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}SCENE\ \ \ \ \ \ \ \ "{}}\}}

\end{DoxyCode}


Human-\/readable strings for each memory tag. 

Used when printing memory usage stats to provide meaningful labels. 

Definition at line \mbox{\hyperlink{kmemory_8c_source_l00052}{52}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



Referenced by \mbox{\hyperlink{kmemory_8c_source_l00206}{get\+\_\+memory\+\_\+usage\+\_\+str()}}.

\Hypertarget{kmemory_8c_a9ec72ff269f63629893b7760ea47662e}\label{kmemory_8c_a9ec72ff269f63629893b7760ea47662e} 
\index{kmemory.c@{kmemory.c}!state\_ptr@{state\_ptr}}
\index{state\_ptr@{state\_ptr}!kmemory.c@{kmemory.c}}
\doxysubsubsection{\texorpdfstring{state\_ptr}{state\_ptr}}
{\footnotesize\ttfamily \mbox{\hyperlink{structmemory__system__state}{memory\+\_\+system\+\_\+state}}\texorpdfstring{$\ast$}{*} state\+\_\+ptr\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{kmemory_8c_source_l00083}{83}} of file \mbox{\hyperlink{kmemory_8c_source}{kmemory.\+c}}.



Referenced by \mbox{\hyperlink{kmemory_8c_source_l00244}{get\+\_\+memory\+\_\+alloc\+\_\+count()}}, \mbox{\hyperlink{kmemory_8c_source_l00206}{get\+\_\+memory\+\_\+usage\+\_\+str()}}, \mbox{\hyperlink{kmemory_8c_source_l00090}{initialize\+\_\+memory()}}, \mbox{\hyperlink{kmemory_8c_source_l00122}{kallocate()}}, \mbox{\hyperlink{kmemory_8c_source_l00149}{kfree()}}, and \mbox{\hyperlink{kmemory_8c_source_l00107}{shutdown\+\_\+memory()}}.

