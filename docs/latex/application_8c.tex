\doxysection{engine/src/core/application.c File Reference}
\hypertarget{application_8c}{}\label{application_8c}\index{engine/src/core/application.c@{engine/src/core/application.c}}


Implementation of the core application lifecycle functions.  


{\ttfamily \#include "{}application.\+h"{}}\newline
{\ttfamily \#include "{}game\+\_\+types.\+h"{}}\newline
{\ttfamily \#include "{}core/event.\+h"{}}\newline
{\ttfamily \#include "{}core/logger.\+h"{}}\newline
{\ttfamily \#include "{}core/kmemory.\+h"{}}\newline
{\ttfamily \#include "{}platform/platform.\+h"{}}\newline
{\ttfamily \#include "{}core/input.\+h"{}}\newline
{\ttfamily \#include "{}core/clock.\+h"{}}\newline
{\ttfamily \#include "{}renderer/renderer\+\_\+frontend.\+h"{}}\newline
Include dependency graph for application.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{application_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structapplication__state}{application\+\_\+state}}
\begin{DoxyCompactList}\small\item\em Internal state structure for the application. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structapplication__state}{application\+\_\+state}} \mbox{\hyperlink{application_8c_a25603a9a2e5d3bf9c73d2bd2c3428655}{application\+\_\+state}}
\begin{DoxyCompactList}\small\item\em Internal state structure for the application. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} \mbox{\hyperlink{application_8c_a464af30d5e798df5a25d3c211d5c120f}{application\+\_\+on\+\_\+event}} (\mbox{\hyperlink{defines_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} code, void \texorpdfstring{$\ast$}{*}sender, void \texorpdfstring{$\ast$}{*}listener\+\_\+inst, \mbox{\hyperlink{structevent__context}{event\+\_\+context}} \mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}})
\begin{DoxyCompactList}\small\item\em Global event handler for application-\/level events. \end{DoxyCompactList}\item 
\mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} \mbox{\hyperlink{application_8c_a193a750e12452924346788eb62a3a327}{application\+\_\+on\+\_\+key}} (\mbox{\hyperlink{defines_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} code, void \texorpdfstring{$\ast$}{*}sender, void \texorpdfstring{$\ast$}{*}listener\+\_\+inst, \mbox{\hyperlink{structevent__context}{event\+\_\+context}} \mbox{\hyperlink{vulkan__backend_8c_a171b208055a0eb2eeace24e130f74bc9}{context}})
\begin{DoxyCompactList}\small\item\em Handles keyboard input at the application level. \end{DoxyCompactList}\item 
\mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} \mbox{\hyperlink{application_8c_af0ccecbeef900f30b0b734eb020574ef}{application\+\_\+create}} (\mbox{\hyperlink{structgame}{game}} \texorpdfstring{$\ast$}{*}game\+\_\+inst)
\begin{DoxyCompactList}\small\item\em Initializes the application with the provided configuration. \end{DoxyCompactList}\item 
\mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} \mbox{\hyperlink{application_8c_a08c8575858e12aa5260a1cc0101df8bd}{application\+\_\+run}} ()
\begin{DoxyCompactList}\small\item\em Starts the main application loop. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} \mbox{\hyperlink{application_8c_aca033d9c168f6eceec40a0e9a9354e79}{initialized}} = \mbox{\hyperlink{defines_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}
\begin{DoxyCompactList}\small\item\em Global flag indicating if the application has already been initialized. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structapplication__state}{application\+\_\+state}} \mbox{\hyperlink{application_8c_a07966d6dab79f2c8568f69a986ae8e68}{app\+\_\+state}}
\begin{DoxyCompactList}\small\item\em Global instance of the application state. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of the core application lifecycle functions. 

This module implements the functions defined in {\ttfamily \doxylink{application_8h}{application.\+h}}. It initializes the platform layer, starts the game loop, and manages clean shutdown procedures.

Responsibilities\+:
\begin{DoxyItemize}
\item Initialize subsystems like memory and logging
\item Start and run the game loop
\item Gracefully shut down the engine 
\end{DoxyItemize}

Definition in file \mbox{\hyperlink{application_8c_source}{application.\+c}}.



\doxysubsection{Typedef Documentation}
\Hypertarget{application_8c_a25603a9a2e5d3bf9c73d2bd2c3428655}\label{application_8c_a25603a9a2e5d3bf9c73d2bd2c3428655} 
\index{application.c@{application.c}!application\_state@{application\_state}}
\index{application\_state@{application\_state}!application.c@{application.c}}
\doxysubsubsection{\texorpdfstring{application\_state}{application\_state}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structapplication__state}{application\+\_\+state}} \mbox{\hyperlink{structapplication__state}{application\+\_\+state}}}



Internal state structure for the application. 

Tracks\+:
\begin{DoxyItemize}
\item Application lifecycle (running/suspended)
\item Platform-\/specific data
\item Window dimensions
\item Timing information for frame updates 
\end{DoxyItemize}

\doxysubsection{Function Documentation}
\Hypertarget{application_8c_af0ccecbeef900f30b0b734eb020574ef}\label{application_8c_af0ccecbeef900f30b0b734eb020574ef} 
\index{application.c@{application.c}!application\_create@{application\_create}}
\index{application\_create@{application\_create}!application.c@{application.c}}
\doxysubsubsection{\texorpdfstring{application\_create()}{application\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} application\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structgame}{game}} \texorpdfstring{$\ast$}{*}}]{game\+\_\+inst }\end{DoxyParamCaption})}



Initializes the application with the provided configuration. 

Creates and initializes the application instance.

This function must be called once before calling \doxylink{application_8h_a08c8575858e12aa5260a1cc0101df8bd}{application\+\_\+run()}. It sets up internal systems such as logging, initializes the platform layer, and prepares the main application loop.


\begin{DoxyParams}{Parameters}
{\em config} & A pointer to an \doxylink{structapplication__config}{application\+\_\+config} struct containing initialization settings. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if initialization was successful; FALSE otherwise. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{application_8c_source_l00121}{121}} of file \mbox{\hyperlink{application_8c_source}{application.\+c}}.



References \mbox{\hyperlink{game__types_8h_source_l00029}{game\+::app\+\_\+config}}, \mbox{\hyperlink{application_8c_source_l00077}{app\+\_\+state}}, \mbox{\hyperlink{application_8c_source_l00280}{application\+\_\+on\+\_\+event()}}, \mbox{\hyperlink{application_8c_source_l00292}{application\+\_\+on\+\_\+key()}}, \mbox{\hyperlink{event_8h_source_l00145}{EVENT\+\_\+\+CODE\+\_\+\+APPLICATION\+\_\+\+QUIT}}, \mbox{\hyperlink{event_8h_source_l00156}{EVENT\+\_\+\+CODE\+\_\+\+KEY\+\_\+\+PRESSED}}, \mbox{\hyperlink{event_8h_source_l00166}{EVENT\+\_\+\+CODE\+\_\+\+KEY\+\_\+\+RELEASED}}, \mbox{\hyperlink{event_8c_source_l00076}{event\+\_\+initialize()}}, \mbox{\hyperlink{event_8c_source_l00100}{event\+\_\+register()}}, \mbox{\hyperlink{defines_8h_source_l00102}{FALSE}}, \mbox{\hyperlink{application_8c_source_l00035}{application\+\_\+state\+::game\+\_\+inst}}, \mbox{\hyperlink{application_8c_source_l00059}{application\+\_\+state\+::height}}, \mbox{\hyperlink{game__types_8h_source_l00036}{game\+::initialize}}, \mbox{\hyperlink{logger_8c_source_l00029}{initialize\+\_\+logging()}}, \mbox{\hyperlink{application_8c_source_l00072}{initialized}}, \mbox{\hyperlink{input_8c_source_l00088}{input\+\_\+initialize()}}, \mbox{\hyperlink{application_8c_source_l00039}{application\+\_\+state\+::is\+\_\+running}}, \mbox{\hyperlink{application_8c_source_l00044}{application\+\_\+state\+::is\+\_\+suspended}}, \mbox{\hyperlink{logger_8h_source_l00162}{KERROR}}, \mbox{\hyperlink{logger_8h_source_l00149}{KFATAL}}, \mbox{\hyperlink{application_8h_source_l00055}{application\+\_\+config\+::name}}, \mbox{\hyperlink{game__types_8h_source_l00057}{game\+::on\+\_\+resize}}, \mbox{\hyperlink{application_8c_source_l00049}{application\+\_\+state\+::platform}}, \mbox{\hyperlink{platform_8h_a1557f29064029f8b437d0fbcc587ebbd}{platform\+\_\+startup()}}, \mbox{\hyperlink{renderer__frontend_8c_source_l00037}{renderer\+\_\+initialize()}}, \mbox{\hyperlink{application_8h_source_l00050}{application\+\_\+config\+::start\+\_\+height}}, \mbox{\hyperlink{application_8h_source_l00035}{application\+\_\+config\+::start\+\_\+pos\+\_\+x}}, \mbox{\hyperlink{application_8h_source_l00040}{application\+\_\+config\+::start\+\_\+pos\+\_\+y}}, \mbox{\hyperlink{application_8h_source_l00045}{application\+\_\+config\+::start\+\_\+width}}, \mbox{\hyperlink{defines_8h_source_l00100}{TRUE}}, and \mbox{\hyperlink{application_8c_source_l00054}{application\+\_\+state\+::width}}.



Referenced by \mbox{\hyperlink{entry_8h_source_l00051}{main()}}.

\Hypertarget{application_8c_a464af30d5e798df5a25d3c211d5c120f}\label{application_8c_a464af30d5e798df5a25d3c211d5c120f} 
\index{application.c@{application.c}!application\_on\_event@{application\_on\_event}}
\index{application\_on\_event@{application\_on\_event}!application.c@{application.c}}
\doxysubsubsection{\texorpdfstring{application\_on\_event()}{application\_on\_event()}}
{\footnotesize\ttfamily \mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} application\+\_\+on\+\_\+event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{defines_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{code,  }\item[{void \texorpdfstring{$\ast$}{*}}]{sender,  }\item[{void \texorpdfstring{$\ast$}{*}}]{listener\+\_\+inst,  }\item[{\mbox{\hyperlink{structevent__context}{event\+\_\+context}}}]{context }\end{DoxyParamCaption})}



Global event handler for application-\/level events. 

This function listens for high-\/level system events like\+:
\begin{DoxyItemize}
\item Application quit request ({\ttfamily EVENT\+\_\+\+CODE\+\_\+\+APPLICATION\+\_\+\+QUIT})
\end{DoxyItemize}

When such an event is received, it updates internal state to gracefully exit.


\begin{DoxyParams}{Parameters}
{\em code} & The event code that was fired. \\
\hline
{\em sender} & A pointer to the object that sent the event (can be NULL). \\
\hline
{\em listener\+\_\+inst} & A pointer to the listener instance (unused here). \\
\hline
{\em context} & Event-\/specific data (unused here). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if the event was handled; FALSE otherwise. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{application_8c_source_l00280}{280}} of file \mbox{\hyperlink{application_8c_source}{application.\+c}}.



References \mbox{\hyperlink{application_8c_source_l00077}{app\+\_\+state}}, \mbox{\hyperlink{event_8h_source_l00145}{EVENT\+\_\+\+CODE\+\_\+\+APPLICATION\+\_\+\+QUIT}}, \mbox{\hyperlink{defines_8h_source_l00102}{FALSE}}, \mbox{\hyperlink{application_8c_source_l00039}{application\+\_\+state\+::is\+\_\+running}}, \mbox{\hyperlink{logger_8h_source_l00193}{KINFO}}, and \mbox{\hyperlink{defines_8h_source_l00100}{TRUE}}.



Referenced by \mbox{\hyperlink{application_8c_source_l00121}{application\+\_\+create()}}, and \mbox{\hyperlink{application_8c_source_l00173}{application\+\_\+run()}}.

\Hypertarget{application_8c_a193a750e12452924346788eb62a3a327}\label{application_8c_a193a750e12452924346788eb62a3a327} 
\index{application.c@{application.c}!application\_on\_key@{application\_on\_key}}
\index{application\_on\_key@{application\_on\_key}!application.c@{application.c}}
\doxysubsubsection{\texorpdfstring{application\_on\_key()}{application\_on\_key()}}
{\footnotesize\ttfamily \mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} application\+\_\+on\+\_\+key (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{defines_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{code,  }\item[{void \texorpdfstring{$\ast$}{*}}]{sender,  }\item[{void \texorpdfstring{$\ast$}{*}}]{listener\+\_\+inst,  }\item[{\mbox{\hyperlink{structevent__context}{event\+\_\+context}}}]{context }\end{DoxyParamCaption})}



Handles keyboard input at the application level. 

Responds to {\ttfamily EVENT\+\_\+\+CODE\+\_\+\+KEY\+\_\+\+PRESSED} and {\ttfamily EVENT\+\_\+\+CODE\+\_\+\+KEY\+\_\+\+RELEASED} events.

Special keys like Escape can trigger application-\/wide actions, while others are logged for debugging purposes.


\begin{DoxyParams}{Parameters}
{\em code} & The event code (e.\+g., key pressed/released). \\
\hline
{\em sender} & A pointer to the object that triggered the event (unused here). \\
\hline
{\em listener\+\_\+inst} & A pointer to the listener instance (unused here). \\
\hline
{\em context} & Event-\/specific data containing key information. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if the event was handled; FALSE otherwise. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{application_8c_source_l00292}{292}} of file \mbox{\hyperlink{application_8c_source}{application.\+c}}.



References \mbox{\hyperlink{vulkan__backend_8c_source_l00020}{context}}, \mbox{\hyperlink{event_8h_source_l00145}{EVENT\+\_\+\+CODE\+\_\+\+APPLICATION\+\_\+\+QUIT}}, \mbox{\hyperlink{event_8h_source_l00156}{EVENT\+\_\+\+CODE\+\_\+\+KEY\+\_\+\+PRESSED}}, \mbox{\hyperlink{event_8h_source_l00166}{EVENT\+\_\+\+CODE\+\_\+\+KEY\+\_\+\+RELEASED}}, \mbox{\hyperlink{event_8c_source_l00156}{event\+\_\+fire()}}, \mbox{\hyperlink{defines_8h_source_l00102}{FALSE}}, \mbox{\hyperlink{logger_8h_source_l00210}{KDEBUG}}, and \mbox{\hyperlink{defines_8h_source_l00100}{TRUE}}.



Referenced by \mbox{\hyperlink{application_8c_source_l00121}{application\+\_\+create()}}, and \mbox{\hyperlink{application_8c_source_l00173}{application\+\_\+run()}}.

\Hypertarget{application_8c_a08c8575858e12aa5260a1cc0101df8bd}\label{application_8c_a08c8575858e12aa5260a1cc0101df8bd} 
\index{application.c@{application.c}!application\_run@{application\_run}}
\index{application\_run@{application\_run}!application.c@{application.c}}
\doxysubsubsection{\texorpdfstring{application\_run()}{application\_run()}}
{\footnotesize\ttfamily \mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} application\+\_\+run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Starts the main application loop. 

Begins running the game loop, which includes\+:
\begin{DoxyItemize}
\item Processing events
\item Updating game logic
\item Rendering frames
\end{DoxyItemize}

This function blocks until the application exits.

\begin{DoxyReturn}{Returns}
TRUE if the application exited cleanly; FALSE if an error occurred or early exit. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{application_8c_source_l00173}{173}} of file \mbox{\hyperlink{application_8c_source}{application.\+c}}.



References \mbox{\hyperlink{application_8c_source_l00077}{app\+\_\+state}}, \mbox{\hyperlink{application_8c_source_l00280}{application\+\_\+on\+\_\+event()}}, \mbox{\hyperlink{application_8c_source_l00292}{application\+\_\+on\+\_\+key()}}, \mbox{\hyperlink{application_8c_source_l00061}{application\+\_\+state\+::clock}}, \mbox{\hyperlink{clock_8c_source_l00019}{clock\+\_\+start()}}, \mbox{\hyperlink{clock_8c_source_l00013}{clock\+\_\+update()}}, \mbox{\hyperlink{clock_8h_source_l00028}{clock\+::elapsed}}, \mbox{\hyperlink{event_8h_source_l00145}{EVENT\+\_\+\+CODE\+\_\+\+APPLICATION\+\_\+\+QUIT}}, \mbox{\hyperlink{event_8h_source_l00156}{EVENT\+\_\+\+CODE\+\_\+\+KEY\+\_\+\+PRESSED}}, \mbox{\hyperlink{event_8h_source_l00166}{EVENT\+\_\+\+CODE\+\_\+\+KEY\+\_\+\+RELEASED}}, \mbox{\hyperlink{event_8c_source_l00088}{event\+\_\+shutdown()}}, \mbox{\hyperlink{event_8c_source_l00129}{event\+\_\+unregister()}}, \mbox{\hyperlink{defines_8h_source_l00102}{FALSE}}, \mbox{\hyperlink{application_8c_source_l00035}{application\+\_\+state\+::game\+\_\+inst}}, \mbox{\hyperlink{kmemory_8c_source_l00184}{get\+\_\+memory\+\_\+usage\+\_\+str()}}, \mbox{\hyperlink{input_8c_source_l00099}{input\+\_\+shutdown()}}, \mbox{\hyperlink{input_8c_source_l00111}{input\+\_\+update()}}, \mbox{\hyperlink{application_8c_source_l00039}{application\+\_\+state\+::is\+\_\+running}}, \mbox{\hyperlink{application_8c_source_l00044}{application\+\_\+state\+::is\+\_\+suspended}}, \mbox{\hyperlink{logger_8h_source_l00149}{KFATAL}}, \mbox{\hyperlink{logger_8h_source_l00193}{KINFO}}, \mbox{\hyperlink{application_8c_source_l00066}{application\+\_\+state\+::last\+\_\+time}}, \mbox{\hyperlink{application_8c_source_l00049}{application\+\_\+state\+::platform}}, \mbox{\hyperlink{platform_8h_af38f532e572a9da41eaad4be29a58ada}{platform\+\_\+get\+\_\+absolute\+\_\+time()}}, \mbox{\hyperlink{platform_8h_af47d0fad6d6e686e1e0f668c95b1c201}{platform\+\_\+pump\+\_\+messages()}}, \mbox{\hyperlink{platform_8h_a7fe7553c63bc948e2ee04d15597d6ccd}{platform\+\_\+shutdown()}}, \mbox{\hyperlink{platform_8h_ae21676dfd997b1c6dd9c06f69b5618e4}{platform\+\_\+sleep()}}, \mbox{\hyperlink{game__types_8h_source_l00050}{game\+::render}}, \mbox{\hyperlink{renderer__frontend_8c_source_l00109}{renderer\+\_\+draw\+\_\+frame()}}, \mbox{\hyperlink{renderer__frontend_8c_source_l00064}{renderer\+\_\+shutdown()}}, \mbox{\hyperlink{defines_8h_source_l00100}{TRUE}}, and \mbox{\hyperlink{game__types_8h_source_l00043}{game\+::update}}.



Referenced by \mbox{\hyperlink{entry_8h_source_l00051}{main()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{application_8c_a07966d6dab79f2c8568f69a986ae8e68}\label{application_8c_a07966d6dab79f2c8568f69a986ae8e68} 
\index{application.c@{application.c}!app\_state@{app\_state}}
\index{app\_state@{app\_state}!application.c@{application.c}}
\doxysubsubsection{\texorpdfstring{app\_state}{app\_state}}
{\footnotesize\ttfamily \mbox{\hyperlink{structapplication__state}{application\+\_\+state}} app\+\_\+state\hspace{0.3cm}{\ttfamily [static]}}



Global instance of the application state. 



Definition at line \mbox{\hyperlink{application_8c_source_l00077}{77}} of file \mbox{\hyperlink{application_8c_source}{application.\+c}}.



Referenced by \mbox{\hyperlink{application_8c_source_l00121}{application\+\_\+create()}}, \mbox{\hyperlink{application_8c_source_l00280}{application\+\_\+on\+\_\+event()}}, and \mbox{\hyperlink{application_8c_source_l00173}{application\+\_\+run()}}.

\Hypertarget{application_8c_aca033d9c168f6eceec40a0e9a9354e79}\label{application_8c_aca033d9c168f6eceec40a0e9a9354e79} 
\index{application.c@{application.c}!initialized@{initialized}}
\index{initialized@{initialized}!application.c@{application.c}}
\doxysubsubsection{\texorpdfstring{initialized}{initialized}}
{\footnotesize\ttfamily \mbox{\hyperlink{defines_8h_a7415f24c35cb3e16a79f143c5527fdfa}{b8}} initialized = \mbox{\hyperlink{defines_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}\hspace{0.3cm}{\ttfamily [static]}}



Global flag indicating if the application has already been initialized. 



Definition at line \mbox{\hyperlink{application_8c_source_l00072}{72}} of file \mbox{\hyperlink{application_8c_source}{application.\+c}}.



Referenced by \mbox{\hyperlink{application_8c_source_l00121}{application\+\_\+create()}}.

